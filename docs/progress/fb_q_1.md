# /feature-breakdown is runningâ€¦ ìš°ë¦¬ì§‘ í™ˆí˜ì´ì§€ ì´ˆê¸° ê°œë°œ í™˜ê²½ ì„¸íŒ… (Patched for Docker + Postgres)

> ë³¸ ë¬¸ì„œëŠ” ê¸°ì¡´ ì´ˆì•ˆì˜ **SQLite ì „ì œ**ë¥¼ **Postgres (Docker ì»¨í…Œì´ë„ˆ)** ë¡œ ì •ì •í•˜ê³ , í˜„ì¬ ì‹¤ì œ í™˜ê²½(í”„ë¡ íŠ¸ ë¡œì»¬, ë°±ì—”ë“œ/DB ë„ì»¤)ê³¼ ì¼ì¹˜í•˜ë„ë¡ ì—…ë°ì´íŠ¸í–ˆìŠµë‹ˆë‹¤.

---

## â— ë¬¸ì œ ë¶„ì„

### 1) ë¬¸ì œ ì •ì˜ ë° ë³µì¡ì„± í‰ê°€

* **ë¬¸ì œ**: ìš°ë¦¬ì§‘ í™ˆí˜ì´ì§€ ì´ˆê¸° ê°œë°œ í™˜ê²½ ì„¸íŒ…
* **ë³µì¡ì„± ìˆ˜ì¤€**: ì¤‘ê°„
* **ì˜ˆìƒ ì†Œìš” ì‹œê°„**: 4â€“6ì‹œê°„
* **ì£¼ìš” ë„ì „ ê³¼ì œ**:

  * Frontend(React+Vite) + Backend(FastAPI) **ì´ê¸°ì¢… ì‹¤í–‰ ëª¨ë¸**(ë¡œì»¬ vs ì»¨í…Œì´ë„ˆ)
  * í•œêµ­ì–´ í°íŠ¸ ë° ëª¨ë°”ì¼ ìµœì í™” ì„¤ì •
  * **ë„ì»¤ ë³¼ë¥¨ ê¸°ë°˜ ë¡œì»¬ íŒŒì¼ ì €ì¥ì†Œ** ì„¤ê³„(`/data/photos`)

### 2) ë²”ìœ„ ë° ì œì•½ì¡°ê±´

* **í¬í•¨ ë²”ìœ„**:

  * Frontend ê°œë°œí™˜ê²½ (Vite + React + TypeScript)
  * Backend ê°œë°œí™˜ê²½ (FastAPI + Python 3.11)
  * **Docker ê¸°ë°˜ DB(PostgreSQL) & ë³¼ë¥¨(/data/photos)**
  * ê°œë°œ ì„œë²„ ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸/Makefile
* **ì œì™¸ ë²”ìœ„**:

  * ìš´ì˜ ë°°í¬ ì¸í”„ë¼ ì „ë¶€(ë„ë©”ì¸/HTTPS/ëª¨ë‹ˆí„°ë§) â†’ **Phase 3ì—ì„œ Nginx ê¸°ë°˜ ë°°í¬ë¡œ ì˜ˆì •**
  * ì¸ì¦/ê¶Œí•œ ë“± ê³ ê¸‰ ê¸°ëŠ¥ â†’ ì´í›„ Phaseì—ì„œ í™•ì¥
* **ì •ì •ëœ ì œì•½ì¡°ê±´**:

  * **DB = PostgreSQL (Docker ì»¨í…Œì´ë„ˆ) ì‚¬ìš©** *(ê°œë°œ/ìš´ì˜ ë™ì¼ ìŠ¤íƒ)*
  * ê¸°ì¡´ `/docs/` ë””ë ‰í„°ë¦¬ ìœ ì§€
  * `CLAUDE.md` ì§€ì¹¨ ì¤€ìˆ˜
* **ì „ì œì¡°ê±´**:

  * Node.js 18+
  * Docker Desktop + WSL2 Integration (Windows)
  * Git, Make(ì„ íƒ)

---

## ì‘ì—… ë¶„í•´

### Phase 1: í”„ë¡œì íŠ¸ êµ¬ì¡° ë° ê¸°ë³¸ ì‹¤í–‰

| ì‘ì—…           | ì„¤ëª…                                                              | ì™„ë£Œ ê¸°ì¤€ (DoD)                      | ìš°ì„ ìˆœìœ„ |
| ------------ | --------------------------------------------------------------- | -------------------------------- | ---- |
| ë””ë ‰í„°ë¦¬ êµ¬ì¡° ìƒì„±   | `/frontend/`, `/backend/`, `docker-compose.dev.yml`, `Makefile` | í´ë”/íŒŒì¼ ìƒì„± ì™„ë£Œ                      | ë†’ìŒ   |
| Frontend ì´ˆê¸°í™” | `npm create vite@latest frontend -- --template react-ts`        | `npm run dev` ë™ì‘                 | ë†’ìŒ   |
| Backend ì´ˆê¸°í™”  | FastAPI ì•±, CORS ì„¤ì •, `/api/health`                               | `uvicorn` ê¸°ë™ & `/api/health` 200 | ë†’ìŒ   |
| DB ì»¨í…Œì´ë„ˆ      | Postgres ì»¨í…Œì´ë„ˆ + `.env.dev` ì—°ê²°                                   | ì»¨í…Œì´ë„ˆ ê¸°ë™, ì—°ê²° ë¬¸ìì—´ ìœ íš¨               | ë†’ìŒ   |
| íŒŒì¼ ì €ì¥ ë³¼ë¥¨     | `/data/photos` ë³¼ë¥¨ ë§ˆìš´íŠ¸                                           | ë³¼ë¥¨ ìƒì„± ë° ì“°ê¸° ê°€ëŠ¥                    | ë†’ìŒ   |

### Phase 2: ê°œë°œ ë„êµ¬/í’ˆì§ˆ ì„¤ì •

| ì‘ì—…              | ì„¤ëª…                      | ì™„ë£Œ ê¸°ì¤€ (DoD)               | ì˜ì¡´ì„±        |
| --------------- | ----------------------- | ------------------------- | ---------- |
| Tailwind CSS    | í•œêµ­ì–´ í°íŠ¸(Noto Sans KR) í¬í•¨ | í°íŠ¸/ê¸°ë³¸ ìŠ¤íƒ€ì¼ ë°˜ì˜              | Frontend   |
| ESLint/Prettier | ë¦°íŠ¸/í¬ë§· í†µì¼                | `npm run lint` í†µê³¼         | Frontend   |
| Alembic ì´ˆê¸°í™”     | DB ë§ˆì´ê·¸ë ˆì´ì…˜ íŒŒì´í”„ë¼ì¸         | `alembic upgrade head` ì„±ê³µ | Backend/DB |
| dotenv & ì„¤ì •     | `.env.dev`/CORS/í¬íŠ¸      | í”„ë¡ íŠ¸â†”ë°±ì—”ë“œ í†µì‹  OK             | Backend    |

### Phase 3: ìŠ¤í¬ë¦½íŠ¸/ë¬¸ì„œí™”/ë°°í¬ ì¤€ë¹„

| ì‘ì—…         | ì„¤ëª…                                                                  | ì™„ë£Œ ê¸°ì¤€ (DoD)     | ìœ„í—˜ë„ |
| ---------- | ------------------------------------------------------------------- | --------------- | --- |
| ê°œë°œ ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸ | `make up/down/logs` ë“±                                               | ë¡œì»¬/WSLì—ì„œ ì•ˆì • ë™ì‘  | ë‚®ìŒ  |
| ë¬¸ì„œí™” ì—…ë°ì´íŠ¸   | `docs/prd.md`, `docs/mvp.md`, `docs/execution_plan.md`, `CLAUDE.md` | ìµœì‹  ìƒíƒœ ë°˜ì˜        | ë‚®ìŒ  |
| (ì´ˆê¸°) ë°°í¬ ëŸ¬í”„ | Nginx ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ ìŠ¤ì¼€ì¹˜                                                   | prod compose ì´ˆì•ˆ | ì¤‘ê°„  |

---

## ì‚°ì¶œë¬¼

* í”„ë¡ íŠ¸/ë°±ì—”ë“œ **ê°œë°œ í™˜ê²½ ì™„ë¹„**
* **Postgres (Docker) + Alembic** ê¸°ë°˜ DB íŒŒì´í”„ë¼ì¸
* `/data/photos` ë³¼ë¥¨ ì €ì¥ êµ¬ì¡°
* ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸/Makefile
* ìµœì‹ í™”ëœ ë¬¸ì„œ(PRD, MVP, ì‹¤í–‰ê³„íš, CLAUDE)

---

## ì‹¤í–‰ ê³„íš

### ìš°ì„ ìˆœìœ„ ë§¤íŠ¸ë¦­ìŠ¤

* **ê¸´ê¸‰ & ì¤‘ìš”**: í”„ë¡œì íŠ¸ êµ¬ì¡°, Frontend/Backend ì´ˆê¸°í™”, Postgres ì»¨í…Œì´ë„ˆ, Health í™•ì¸
* **ì¤‘ìš”í•˜ì§€ë§Œ ëœ ê¸´ê¸‰**: ESLint/Prettier, Tailwind, Alembic
* **ê¸´ê¸‰í•˜ì§€ë§Œ ëœ ì¤‘ìš”**: ê°œë°œ ìŠ¤í¬ë¦½íŠ¸ ë³´ê°•
* **ëœ ì¤‘ìš” & ëœ ê¸´ê¸‰**: ë¬¸ì„œ ë¯¸ì„¸ì •ë¦¬

### ë§ˆì¼ìŠ¤í†¤

* **1â€“2ì‹œê°„**: Phase 1 ì™„ë£Œ(ê¸°ë³¸ êµ¬ì¡°/ì»¨í…Œì´ë„ˆ/í—¬ìŠ¤ì²´í¬)
* **3â€“4ì‹œê°„**: Phase 2 ì™„ë£Œ(Tailwind/ESLint/Alembic)
* **4â€“6ì‹œê°„**: Phase 3 ì¼ë¶€(ìŠ¤í¬ë¦½íŠ¸/ë¬¸ì„œ), Nginx ë°°í¬ ì´ˆì•ˆ

### ìœ„í—˜ ìš”ì†Œ ë° ëŒ€ì‘

| ìœ„í—˜                    | ê°€ëŠ¥ì„± | ì˜í–¥ | ëŒ€ì‘                                                 |
| --------------------- | --- | -- | -------------------------------------------------- |
| í¬íŠ¸ ì¶©ëŒ(5173/8000/5432) | ì¤‘   | ì¤‘  | compose í¬íŠ¸ ì¬ë§¤í•‘, `.env`ì— ë…¸ì¶œ                         |
| íŒ¨í‚¤ì§€ ë¹Œë“œ ì‹¤íŒ¨             | ì¤‘   | ì¤‘  | `psycopg[binary]` ì‚¬ìš©, ë²„ì „ ê³ ì •, `--no-cache` ë¹Œë“œ       |
| CORS ì˜¤ë¥˜               | ì¤‘   | ì¤‘  | `.env.dev`ì˜ `CORS_ORIGINS` ì •í™•íˆ ì§€ì • í›„ ì¬ê¸°ë™            |
| ìœˆë„ìš° ê¶Œí•œ/WSL ì´ìŠˆ         | ì¤‘   | ì¤‘  | Docker Desktop WSL Integration, ë°©í™”ë²½ **Private** í—ˆìš© |

---

## í’ˆì§ˆ ì²´í¬ë¦¬ìŠ¤íŠ¸ (QA)

* [ ] `make up` í›„ `http://localhost:8000/api/health` 200
* [ ] `http://localhost:8000/docs` ì ‘ì† ê°€ëŠ¥
* [ ] í”„ë¡ íŠ¸ `npm run dev` â†’ API í˜¸ì¶œ ì„±ê³µ(CORS OK)
* [ ] `alembic init` â†’ `revision --autogenerate` â†’ `upgrade head` ë™ì‘
* [ ] Tailwind + Noto Sans KR ì ìš© í™•ì¸
* [ ] ESLint/Prettier í†µê³¼

**ì „ì²´ ì™„ë£Œ ê¸°ì¤€**

* í”„ë¡ íŠ¸/ë°±ì—”ë“œ ë™ì‹œ ê°œë°œ ê°€ëŠ¥, API í˜¸ì¶œ/ì‘ë‹µ OK
* Postgres ì—°ê²° ë° ë§ˆì´ê·¸ë ˆì´ì…˜ íŒŒì´í”„ë¼ì¸ ë™ì‘
* ëª¨ë°”ì¼ ë°˜ì‘í˜• ê¸°ë³¸ ìŠ¤íƒ€ì¼, í•œêµ­ì–´ í°íŠ¸ ì ìš©
* CLAUDE.mdì— ê°œë°œ ëª…ë ¹/íë¦„ ìµœì‹  ë°˜ì˜

---

## ë¦¬ì†ŒìŠ¤

* **ë„êµ¬**: Node.js 18+, Docker Desktop, Python 3.11+
* **ë¼ì´ë¸ŒëŸ¬ë¦¬**: React, Vite, TypeScript, Tailwind CSS, FastAPI, Uvicorn, SQLAlchemy, Alembic, psycopg
* **í•™ìŠµ ìë£Œ**: Vite / FastAPI / Tailwind ë¬¸ì„œ (ë§í¬ëŠ” ë¡œì»¬ ë¬¸ì„œì—ì„œ ê´€ë¦¬)

---

## ğŸ’¡ ë‹¤ìŒ ë‹¨ê³„(Claude Codeìš© ì˜¤í¼ë ˆì´í„° ìŠ¤í…)

> ì•„ë˜ ì ˆì°¨ëŠ” í˜„ì¬ ë ˆí¬ ê¸°ì¤€ìœ¼ë¡œ **ë°”ë¡œ ìˆ˜í–‰** ê°€ëŠ¥í•œ ëª…ë ¹ê³¼ ì‚°ì¶œë¬¼ì„ ì œì‹œí•©ë‹ˆë‹¤.

1. **DB/Alembic ì„¸íŒ…**

   * `backend`ì— Alembic ì´ˆê¸°í™”: `alembic init migrations`
   * `alembic.ini` ì™€ `env.py`ì—ì„œ `DATABASE_URL` (env: `.env.dev`) ë¡œë“œ
   * ìµœì´ˆ ëª¨ë¸(Entity) ì •ì˜: `User`, `Photo`, `Event` (ìŠ¤í‚¤ë§ˆ ìŠ¤í…)
   * `alembic revision --autogenerate -m "init tables"` â†’ `alembic upgrade head`

2. **API ìŠ¤ì¼ˆë ˆí†¤ ì¶”ê°€**

   * `GET /api/photos` (ë¦¬ìŠ¤íŠ¸), `POST /api/photos` (ì—…ë¡œë“œ, ë””ìŠ¤í¬ `/data/photos`ì— ì €ì¥)
   * `GET /api/events` (ë¦¬ìŠ¤íŠ¸), `POST /api/events` (ìƒì„±)
   * CORS: `http://localhost:5173`

3. **í”„ë¡ íŠ¸ ì—°ë™**

   * ê°„ë‹¨ ì—…ë¡œë“œ í¼/ë¦¬ìŠ¤íŠ¸ ì»´í¬ë„ŒíŠ¸, ìº˜ë¦°ë” ë·°(ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„ íƒ: FullCalendar ë“±)
   * `.env` â†’ `VITE_API_URL=http://localhost:8000` í™•ì¸

4. **í…ŒìŠ¤íŠ¸**

   * backend: pytest(í—¬ìŠ¤/ì‚¬ì§„ ì—…ë¡œë“œ/ì´ë²¤íŠ¸ CRUD ìµœì†Œ happy-path)
   * frontend: vitest ë˜ëŠ” playwright(e2e í—¬ìŠ¤/ì—…ë¡œë“œ)

5. **ë¬¸ì„œ ë°˜ì˜**

   * `docs/prd.md`, `docs/mvp.md`, `docs/execution_plan.md` ì— ìœ„ ë³€ê²½ì‚¬í•­ ë° ëª…ë ¹ì–´ ì—…ë°ì´íŠ¸

---

### ë³€ê²½ ì´ë ¥

* 2025-09-08: **DB ì „ì œ SQLite â†’ Postgres(Docker)** ë¡œ ì •ì •, í˜„í–‰ ìŠ¤íƒê³¼ ì¼ì¹˜í•˜ë„ë¡ ì „ë©´ íŒ¨ì¹˜
